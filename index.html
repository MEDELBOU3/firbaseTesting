<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineVerse - Immerse Yourself in Movies & Discussions</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Spinner -->
    <div class="spinner-overlay" id="spinner">
        <div class="spinner-border" role="status" style="width: 3.5rem; height: 3.5rem;"><span class="visually-hidden">Loading...</span></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-film logo-icon"></i> <span class="logo-text">CineVerse</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                     <li class="nav-item"><a class="nav-link active" href="#explore"><i class="fas fa-compass"></i> Explore</a></li>
                     <li class="nav-item"><a class="nav-link" href="#featured"><i class="fas fa-star"></i> Featured</a></li>
                     <li class="nav-item"><a class="nav-link" href="#reviews"><i class="fas fa-comments"></i> Reviews</a></li>
                     <li class="nav-item"><a class="nav-link" href="#qandaSection"><i class="fas fa-question-circle"></i> Q&A</a></li>
                     <li class="nav-item dropdown">
                         <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fas fa-th-large"></i> Categories</a>
                         <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDropdown">
                             <li><a class="dropdown-item category-nav-link" href="#" data-category="popular">Popular</a></li>
                             <li><a class="dropdown-item category-nav-link" href="#" data-category="top_rated">Top Rated</a></li>
                            <li><a class="dropdown-item category-nav-link" href="#" data-category="upcoming">Upcoming</a></li>
                            <li><a class="dropdown-item category-nav-link" href="#" data-category="now_playing">Now Playing</a></li>
                         </ul>
                     </li>
                </ul>
                 <!-- Auth Area -->
                 <div id="authArea" class="d-flex align-items-center">
                     <!-- Logged In State -->
                    <div id="userInfo" class="d-none me-3"><i class="fas fa-user-circle"></i> <span id="usernameDisplay"></span></div>
                    <button id="logoutButton" class="btn btn-link text-decoration-none p-0 d-none me-2"><i class="fas fa-sign-out-alt"></i> Logout</button>
                    <!-- Logged Out State -->
                    <div class="auth-buttons">
                         <button id="loginButtonTrigger" class="btn btn-outline-light me-2" data-bs-toggle="modal" data-bs-target="#loginModal">Login</button>
                        <button id="signupButtonTrigger" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#signupModal">Sign Up</button>
                    </div>
                 </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section" id="heroSection">
         <div class="container hero-content">
             <h1 class="hero-title" id="heroMovieTitle">Discover Movies Effortlessly</h1>
             <p class="lead hero-tagline" id="heroMovieTagline">Explore the vast universe of cinema</p>
             <div class="search-container">
                 <div class="input-group"><input type="text" class="form-control search-input" id="searchInput" placeholder="Search for movies..."><button class="btn search-btn" id="searchButton"><i class="fas fa-search me-1"></i> Search</button></div>
             </div>
         </div>
     </section>

    <!-- Main Content Wrapper -->
    <div class="container mt-5">

        <!-- Featured Posts Section (Populated by JS) -->
        <section id="featured">
             <h2 class="section-title">Featured Insights</h2>
            <div class="row" id="featuredArticlesContainer"><!-- JS fills this --></div>
        </section>

        <!-- Movies Gallery Section -->
        <section id="explore" class="mt-4">
             <h2 class="section-title" id="moviesSectionTitle">Explore Popular Movies</h2>
            <div class="row g-sm-4 g-3" id="moviesContainer"><!-- Movie cards --></div>
            <nav aria-label="Movie Pages"><ul class="pagination" id="pagination"></ul></nav>
        </section>

        <!-- Recent Reviews Section (Populated by JS) -->
         <section id="reviews" class="mt-5">
             <h2 class="section-title">Community Reviews</h2>
            <div class="row" id="reviewsContainer"><!-- JS fills this --></div>
         </section>

         <!-- Q&A Section -->
         <section id="qandaSection" class="mt-5">
             <h2 class="section-title">Community Q&A</h2>

             <!-- Post New Question Form (Visible only if logged in) -->
             <div class="card mb-4 hidden" id="postQuestionCard">
                 <div class="card-body">
                    <h5 class="card-title">Ask a Question</h5>
                    <form id="postQuestionForm">
                         <div class="mb-3">
                             <textarea class="form-control" id="questionText" rows="3" placeholder="Type your movie-related question here..." required style="background-color: var(--cv-dark-blue-700); color: var(--cv-slate-200); border-color: var(--cv-dark-blue-700);"></textarea>
                         </div>
                         <button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane me-1"></i> Post Question</button>
                         <div id="questionPostStatus" class="form-text mt-2"></div>
                    </form>
                 </div>
             </div>
             <p id="qandaLoginPrompt" class="text-center text-body-secondary">Please <a href="#" data-bs-toggle="modal" data-bs-target="#loginModal">log in</a> to post a question.</p>


            <!-- List of Questions -->
             <div id="questionsList">
                 <div class="text-center py-4"><div class="spinner-border text-info" role="status"><span class="visually-hidden">Loading questions...</span></div></div>
             </div>
         </section>

    </div> <!-- End Main Content Wrapper -->

    <!-- Movie Detail / Q&A Detail Modal -->
    <div class="modal fade movie-modal" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content">
                 <div class="modal-body p-0">
                     <div class="modal-header-overlay"><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>
                     <div id="detailModalContent"><!-- Content loaded via JS for Movie or Q&A --></div>
                </div>
             </div>
         </div>
     </div>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background-color: var(--cv-dark-blue-800); border-color: var(--cv-dark-blue-700);">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Login to CineVerse</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                         <div class="mb-3"><label for="loginEmail" class="form-label">Email address</label><input type="email" class="form-control" id="loginEmail" required style="background-color: var(--cv-dark-blue-700); color: var(--cv-slate-200); border-color: var(--cv-dark-blue-700);"></div>
                        <div class="mb-3"><label for="loginPassword" class="form-label">Password</label><input type="password" class="form-control" id="loginPassword" required style="background-color: var(--cv-dark-blue-700); color: var(--cv-slate-200); border-color: var(--cv-dark-blue-700);"></div>
                        <button type="submit" class="btn btn-primary w-100">Login</button>
                        <div id="loginError" class="text-danger small mt-2"></div>
                    </form>
                 </div>
                 <div class="modal-footer justify-content-center">
                     <small>Don't have an account? <a href="#" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#signupModal">Sign Up</a></small>
                 </div>
            </div>
         </div>
     </div>

    <!-- Signup Modal -->
     <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
             <div class="modal-content" style="background-color: var(--cv-dark-blue-800); border-color: var(--cv-dark-blue-700);">
                <div class="modal-header">
                    <h5 class="modal-title" id="signupModalLabel">Sign Up for CineVerse</h5>
                     <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                 </div>
                <div class="modal-body">
                    <form id="signupForm">
                         <div class="mb-3"><label for="signupDisplayName" class="form-label">Display Name</label><input type="text" class="form-control" id="signupDisplayName" required style="background-color: var(--cv-dark-blue-700); color: var(--cv-slate-200); border-color: var(--cv-dark-blue-700);"></div>
                        <div class="mb-3"><label for="signupEmail" class="form-label">Email address</label><input type="email" class="form-control" id="signupEmail" required style="background-color: var(--cv-dark-blue-700); color: var(--cv-slate-200); border-color: var(--cv-dark-blue-700);"></div>
                         <div class="mb-3"><label for="signupPassword" class="form-label">Password (min. 6 characters)</label><input type="password" class="form-control" id="signupPassword" required style="background-color: var(--cv-dark-blue-700); color: var(--cv-slate-200); border-color: var(--cv-dark-blue-700);"></div>
                         <button type="submit" class="btn btn-primary w-100">Sign Up</button>
                         <div id="signupError" class="text-danger small mt-2"></div>
                    </form>
                </div>
                <div class="modal-footer justify-content-center">
                    <small>Already have an account? <a href="#" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#loginModal">Log In</a></small>
                 </div>
             </div>
         </div>
     </div>


    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop" title="Back to Top"><i class="fas fa-arrow-up"></i></div>

    <!-- Footer -->
    <footer class="footer"><!-- Footer HTML from previous response --><div class="container">
            <div class="row">
                 <div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
                     <div class="footer-logo mb-3"><i class="fas fa-film"></i> CineVerse</div>
                    <p class="pe-lg-4">Your portal to the universe of cinema. Explore, discover, and discuss the world of movies and TV shows.</p>
                    <div class="social-icons mt-4"> <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a> <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a> <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a> <a href="#" aria-label="Youtube"><i class="fab fa-youtube"></i></a> </div>
                </div>
                <div class="col-lg-2 col-md-6 mb-4 mb-lg-0"><h5>Quick Links</h5><ul class="list-unstyled footer-links"><li><a href="#explore">Explore</a></li><li><a href="#featured">Featured</a></li><li><a href="#reviews">Reviews</a></li><li><a href="#">Movies A-Z</a></li><li><a href="#">Top Charts</a></li></ul></div><div class="col-lg-2 col-md-6 mb-4 mb-lg-0"><h5>Legal</h5><ul class="list-unstyled footer-links"><li><a href="#">Terms of Use</a></li><li><a href="#">Privacy Policy</a></li><li><a href="#">Cookie Policy</a></li> <li><a href="#">About Us</a></li> <li><a href="#">Contact</a></li></ul></div><div class="col-lg-4 col-md-6 mb-4 mb-lg-0"><h5>Stay Updated</h5><p>Subscribe to our newsletter for the latest movie news and updates.</p><form id="newsletterFormDummy"><div class="input-group mb-3"><input type="email" class="form-control" placeholder="Enter your email" aria-label="Email" required style="background-color: var(--cv-dark-blue-800); border-color: var(--cv-dark-blue-700); color: var(--cv-slate-200);"><button class="btn btn-outline-primary" type="submit" style="border-color: var(--cv-sky-500); color: var(--cv-sky-400);">Subscribe</button></div></form><small id="newsletterMessageDummy" class="d-block mt-2"></small></div></div><hr class="my-4"><div class="row footer-bottom align-items-center"><div class="col-md-6 text-center text-md-start mb-2 mb-md-0"><p class="mb-0">© <script>document.write(new Date().getFullYear())</script> CineVerse. All rights reserved.</p></div><div class="col-md-6 text-center text-md-end"><small>Movie data powered by <a href="https://www.themoviedb.org/" target="_blank" rel="noopener noreferrer">TMDb</a>.</small></div></div></div>
        </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js"></script>

  <script scr="main.js"></script>
</body>
</html>
