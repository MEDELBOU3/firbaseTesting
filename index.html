<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FPN Informatique & AI ‚Äì Portail 100% Gratuit</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore-compat.js"></script>

    <!-- Tailwind Configuration & Custom Styles -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        primary: '#3b82f6',
                        accent: '#8b5cf6',
                        lightSurface: '#f8f9fa',
                        darkSurface: '#1f2937',
                        darkCard: '#111827'
                    },
                    animation: {
                        float: 'float 6s ease-in-out infinite',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'fade-in': 'fadeIn 0.6s ease-out',
                        flow: 'flow 20s linear infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        float: {
                            '0%,100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-20px) rotate(3deg)' },
                        },
                        slideUp: { '0%': { transform: 'translateY(20px)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } },
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        flow: {
                            '0%': { transform: 'translateX(-50%) translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateX(50%) translateY(20px) rotate(45deg)' },
                            '100%': { transform: 'translateX(-50%) translateY(0) rotate(0deg)' }
                        }
                    },
                },
            },
        }
    </script>

    <!-- Alpine.js CDN -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

    <style>
        /* FIX: Assurer le contraste √©lev√© en Dark Mode */
        body {
            transition: background-color 0.5s, color 0.5s;
        }

        .dynamic-glass {
            /* Maintient une l√©g√®ret√© en Light mode */
            @apply bg-white/90 backdrop-blur-3xl border border-white/50 shadow-2xl;
        }

        .dark .dynamic-glass {
            /* Rendu beaucoup plus sombre en Dark mode */
            @apply bg-gray-950/90 border-gray-700/70 shadow-xl shadow-black/50;
        }

        .gradient-text {
            @apply text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600;
            @apply dark:from-blue-300 dark:via-purple-300 dark:to-pink-300;
        }

        .btn-primary {
            @apply px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full font-bold shadow-lg hover:shadow-2xl hover:scale-[1.03] transition-all duration-300;
            @apply dark:from-blue-500 dark:to-purple-500;
        }

        .btn-secondary {
            /* Style unifi√© pour les boutons secondaires */
            @apply px-8 py-4 bg-transparent text-gray-900 rounded-full font-bold border-2 border-gray-300 hover:border-blue-600 hover:shadow-lg transition-all duration-300;
            @apply dark:bg-transparent dark:text-gray-100 dark:border-gray-600 dark:hover:border-blue-400;
        }

        /* Animated background - LIGHT MODE BASE */
        .animated-bg {
            background: linear-gradient(-45deg, #e0f2fe, #ddd6fe, #fce7f3, #e0e7ff);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }

        /* Animated background - DARK MODE OVERRIDE */
        .dark .animated-bg {
            background: linear-gradient(-45deg, #0f172a, #1e1b4b, #3b0764, #0f172a);
            background-size: 400% 400%;
            animation: gradient 20s ease infinite;
        }

        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Styles pour les cartes (features) */
        .glass-card {
            /* Unifi√© pour le mode clair */
            @apply bg-white/70 border-gray-300 shadow-xl;
        }

        .dark .glass-card {
            /* Unifi√© pour le mode sombre */
            @apply bg-gray-800/70 border-gray-700/50 shadow-lg shadow-black/40;
        }

        .glow {
            box-shadow: 0 0 50px rgba(59, 130, 246, 0.2);
        }

        .auth-modal-content {
            @apply bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700;
        }

        /* Testimonial Card effect */
        .testimonial-card-bg {
            background: radial-gradient(circle at top left, var(--tw-gradient-stops));
        }

        /* Utilit√© pour cacher les √©l√©ments Alpine */
        [x-cloak] {
            display: none !important;
        }

        .btn-gradient-purple {
            @apply px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full font-bold shadow-lg hover:shadow-2xl hover:scale-[1.03] transition-all duration-300;
            @apply dark:from-purple-500 dark:to-pink-500;
        }
    </style>
</head>

<body
    class="min-h-screen animated-bg text-gray-900 dark:text-gray-100 dark:bg-gray-950 overflow-x-hidden transition-colors duration-500"
    x-data="app()" x-init="initAuthCheck()">

    <!-- Floating particles -->
    <div class="fixed inset-0 pointer-events-none overflow-hidden opacity-30 dark:opacity-10">
        <div class="absolute top-20 left-10 w-2 h-2 bg-blue-400 rounded-full animate-float"></div>
        <div class="absolute top-40 right-20 w-3 h-3 bg-purple-400 rounded-full animate-float"
            style="animation-delay: -2s;"></div>
        <div class="absolute bottom-32 left-1/4 w-2 h-2 bg-pink-400 rounded-full animate-float"
            style="animation-delay: -4s;"></div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 dynamic-glass animate-slide-up">
        <div class="mx-auto max-w-7xl px-6 py-3">
            <div class="flex items-center justify-between">

                <!-- Logo + Text -->
                <div class="flex items-center gap-3">
                    <img src="https://espace-fpn.ump.ma/src/logo.svg" alt="Logo FPN" class="w-16 h-16">
                    <span class="text-xl font-black text-gray-900 dark:text-white">FPN <span
                            class="text-base font-light text-gray-500 dark:text-gray-400">Info & IA</span></span>
                </div>

                <!-- Nav Links -->
                <ul class="hidden lg:flex items-center gap-8 text-sm font-semibold text-gray-700 dark:text-gray-300">
                    <li><a href="#features" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Ressources
                            Cl√©s</a></li>
                    <li><a href="#tools" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Outils & AI</a>
                    </li>
                    <li><a href="#community"
                            class="hover:text-blue-600 dark:hover:text-blue-400 transition">Communaut√©</a></li>
                </ul>

                <!-- Buttons -->
                <div class="flex items-center gap-4">
                    <!-- Dark Mode Toggle (Corrig√© pour utiliser la variable globale) -->
                    <button @click="$store.auth.toggleTheme()"
                        class="p-2 rounded-full text-gray-700 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition">
                        <template x-if="!$store.auth.darkMode">
                            <i class="bi bi-sun-fill w-6 h-6"></i>
                        </template>
                        <template x-if="$store.auth.darkMode">
                            <i class="bi bi-moon-fill w-6 h-6"></i>
                        </template>
                    </button>

                    <!-- Student Access Button (Conditionnel) -->
                    <template x-if="!$store.auth.loggedIn">
                        <button @click="document.getElementById('modalAuth').classList.remove('hidden')"
                            class="px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full text-sm font-bold hover:scale-[1.03] transition-all">
                            Acc√®s √âtudiant
                        </button>
                    </template>
                    <template x-if="$store.auth.loggedIn">
                        <button @click="$store.auth.redirectToApp()"
                            class="px-6 py-2 bg-gradient-to-r from-green-600 to-cyan-600 text-white rounded-full text-sm font-bold hover:scale-[1.03] transition-all">
                            Aller au Tableau de Bord
                        </button>
                    </template>
                </div>

            </div>
        </div>
    </nav>


    <!-- Hero Section -->
    <section class="relative pt-40 pb-32 px-6 lg:px-8 overflow-hidden animated-bg">
        <!-- Background Flow Elements -->
        <div class="absolute inset-0 overflow-hidden pointer-events-none">
            <div class="absolute top-10 left-0 w-80 h-80 bg-blue-300/20 rounded-full animate-flow-slow"></div>
            <div class="absolute bottom-20 right-0 w-96 h-96 bg-purple-300/20 rounded-full animate-flow-fast"></div>
            <div class="absolute top-1/3 left-1/2 w-72 h-72 bg-pink-300/10 rounded-full animate-flow-slow"></div>
            <div class="absolute top-1/4 right-1/4 w-64 h-64 bg-green-300/20 rounded-full animate-flow-fast"></div>
        </div>

        <div class="relative mx-auto max-w-7xl grid lg:grid-cols-2 gap-16 items-center">
            <!-- Left Content -->
            <div class="space-y-8 z-10 relative">
                <div
                    class="inline-flex items-center gap-2 px-4 py-2 dynamic-glass rounded-full shadow-md text-sm font-semibold text-gray-800 dark:text-gray-200">
                    <span class="relative flex h-3 w-3">
                        <span
                            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
                    </span>
                    Portail Officiel - Acc√®s 100% GRATUIT
                </div>

                <h1 class="text-6xl lg:text-7xl font-black leading-tight text-gray-900 dark:text-white">
                    L'Excellence <br>
                    <span class="gradient-text">Num√©rique</span> Int√©gr√©e
                </h1>

                <p class="text-xl text-gray-700 dark:text-gray-300 leading-relaxed max-w-xl">
                    Votre hub unique pour les supports de cours, outils d'IA, et la collaboration √©tudiante au sein
                    de la Division Informatique et Intelligence Airificielle.
                </p>

                <!-- Boutons d'action conditionnels -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <template x-if="$store.auth.loggedIn">
                        <div class="flex flex-col sm:flex-row gap-4 animate-fade-in">
                            <button @click="$store.auth.redirectToApp()"
                                class="px-6 py-3 bg-gradient-to-r from-green-500 to-cyan-500 text-white rounded-full font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 text-base">
                                Tableau de Bord (Connect√©) ‚Üí
                            </button>
                            <a href="#features"
                                class="px-6 py-3 bg-transparent text-gray-900 dark:text-gray-100 rounded-full font-bold border-2 border-gray-300 dark:border-gray-600 hover:border-blue-600 dark:hover:border-blue-400 hover:shadow-lg transition-all duration-300 text-base">
                                Explorer la Landing Page
                            </a>
                        </div>
                    </template>

                    <template x-if="!$store.auth.loggedIn">
                        <div class="flex flex-col sm:flex-row gap-4 animate-fade-in">
                            <button @click="document.getElementById('modalAuth').classList.remove('hidden')"
                                class="btn-primary">
                                Acc√®s Imm√©diat ‚Üí
                            </button>
                            <a href="#features" class="btn-secondary">Explorer les Ressources</a>
                        </div>
                    </template>
                </div>


                <!-- Trust Bar -->
                <div class="flex items-center gap-6 pt-4 text-gray-700 dark:text-gray-400">
                    <div class="flex -space-x-3">
                        <img src="https://i.pravatar.cc/40?u=fpn1"
                            class="w-10 h-10 rounded-full ring-2 ring-white dark:ring-gray-800" alt="">
                        <img src="https://i.pravatar.cc/40?u=fpn2"
                            class="w-10 h-10 rounded-full ring-2 ring-white dark:ring-gray-800" alt="">
                        <img src="https://i.pravatar.cc/40?u=fpn3"
                            class="w-10 h-10 rounded-full ring-2 ring-white dark:ring-gray-800" alt="">
                        <img src="https://i.pravatar.cc/40?u=fpn4"
                            class="w-10 h-10 rounded-full ring-2 ring-white dark:ring-gray-800" alt="">
                    </div>
                    <div class="text-sm">
                        <div class="font-bold">Plus de 1500 √©tudiants actifs</div>
                        <div class="text-gray-500">Int√©gration transparente pour toute la division.</div>
                    </div>
                </div>
            </div>

            <!-- Right Visual -->
            <div class="relative h-[500px] lg:h-[600px] hidden lg:block z-10">
                <!-- Main Card: Course Progress -->
                <div
                    class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-80 h-52 bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 rounded-3xl shadow-2xl p-6 text-white flex flex-col justify-between animate-float glow hover:scale-[1.05] transition-transform duration-500">
                    <div class="flex justify-between items-start">
                        <div>
                            <div class="text-sm opacity-90 font-semibold">Tableau de Bord √âtudiant</div>
                            <div class="text-xs opacity-75 mt-1">Progression Semestre S4</div>
                        </div>
                        <div
                            class="w-12 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center font-bold text-xl">
                            FPN</div>
                    </div>
                    <div>
                        <div class="text-2xl font-bold tracking-wide mb-2">Algorithmique & Structures</div>
                        <div class="flex items-center justify-between">
                            <div class="w-full bg-white/30 rounded-full h-2.5">
                                <div class="bg-yellow-400 h-2.5 rounded-full" style="width: 75%"></div>
                            </div>
                            <span class="text-sm opacity-90 ml-3">75%</span>
                        </div>
                    </div>
                </div>

                <!-- Floating Bubbles -->
                <div class="absolute top-16 right-0 flex items-center gap-2 dynamic-glass rounded-full px-4 py-2 shadow-xl text-sm font-semibold text-gray-800 dark:text-gray-100 animate-float"
                    style="animation-delay: -1s;">
                    <i class="bi bi-robot text-purple-600 dark:text-purple-400 text-lg"></i> Assistant IA
                </div>
                <div class="absolute bottom-16 left-0 flex items-center gap-2 dynamic-glass rounded-full px-4 py-2 shadow-xl text-sm font-semibold text-gray-800 dark:text-gray-100 animate-float"
                    style="animation-delay: -3s;">
                    <i class="bi bi-code-slash text-cyan-600 dark:text-cyan-400 text-lg"></i> √âditeur UML
                </div>
                <div class="absolute top-1/2 left-0 flex items-center gap-2 dynamic-glass rounded-full px-4 py-2 shadow-xl text-sm font-semibold text-gray-800 dark:text-gray-100 animate-float"
                    style="animation-delay: -5s;">
                    <i class="bi bi-bell-fill text-red-600 dark:text-red-400 text-lg"></i> 3 Nouveaux Messages
                </div>
            </div>
        </div>
    </section>

    <!-- Section de D√©monstration (Mockups & Vid√©o) -->
    <section id="demo-section"
        class="relative py-32 px-6 lg:px-8 bg-lightSurface/80 dark:bg-darkCard/50 overflow-hidden">
        <!-- Background Flow Elements -->
        <div class="absolute inset-0 pointer-events-none">
            <div class="absolute top-10 left-0 w-72 h-72 bg-blue-300/20 rounded-full animate-flow-slow"></div>
            <div class="absolute bottom-20 right-0 w-96 h-96 bg-purple-300/20 rounded-full animate-flow-fast"></div>
        </div>

        <div class="mx-auto max-w-7xl relative z-10">
            <!-- Title -->
            <div class="text-center mb-16">
                <h2 class="text-5xl md:text-6xl font-black mb-4 text-gray-900 dark:text-white">
                    Aper√ßu <span class="gradient-text">Immersif</span>
                </h2>
                <p class="text-xl md:text-2xl text-gray-700 dark:text-gray-400 max-w-3xl mx-auto">
                    Visualisez le fonctionnement des fonctionnalit√©s cl√©s de FPN : suivez votre progression et ma√Ætrisez
                    nos outils int√©gr√©s.
                </p>
            </div>

            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <!-- Colonne Gauche : Maquettes Empil√©es (Mockups) -->
                <div class="mockup-container h-full flex items-center justify-center relative pt-16 lg:pt-0">
                    <!-- Mockup 1: Tableau de Bord (Arri√®re) -->
                    <div
                        class="absolute top-0 left-0 w-[85%] lg:w-[340px] shadow-2xl mockup-shadow z-20 mockup-card transition-transform duration-700 hover:-translate-y-2 hover:rotate-3">
                        <div class="dynamic-glass border dark:border-gray-700 rounded-2xl p-4">
                            <h4 class="font-bold mb-2 dark:text-gray-300 text-sm flex items-center">
                                <i class="bi bi-speedometer2 me-1"></i> Tableau de Bord
                            </h4>
                            <img src="https://github.com/MEDELBOU3/firbaseTesting/blob/main/images/mockup-frame.png?raw=true"
                                alt="Mockup Tableau de Bord FPN"
                                class="w-full h-auto rounded-xl border border-gray-300 dark:border-gray-600 shadow-inner">
                        </div>
                    </div>

                    <!-- Mockup 2: √âditeur de Code (Avant) -->
                    <div
                        class="relative w-full lg:w-[380px] shadow-2xl mockup-shadow z-30 mockup-card transition-transform duration-700 hover:translate-y-2 hover:-rotate-3">
                        <div class="dynamic-glass border dark:border-gray-700 rounded-2xl p-4">
                            <h4 class="font-bold mb-2 dark:text-gray-300 text-sm flex items-center">
                                <i class="bi bi-diagram-3-fill me-1"></i> UML √âditeur
                            </h4>
                            <img src="https://github.com/MEDELBOU3/firbaseTesting/blob/main/images/umlEditor.png?raw=true"
                                alt="Mockup √âditeur de Code FPN"
                                class="w-full h-auto rounded-xl border border-gray-300 dark:border-gray-600 shadow-inner">
                        </div>
                    </div>
                </div>

                <!-- Colonne Droite : Vid√©o D√©mo & Texte -->
                <div class="space-y-8 lg:text-left relative z-10">
                    <h3 class="text-3xl md:text-4xl font-black gradient-text">Vid√©o de Pr√©sentation Rapide</h3>
                    <p class="text-lg md:text-xl text-gray-700 dark:text-gray-400">
                        Regardez notre courte d√©monstration pour comprendre le flux de travail, la navigation des cours
                        et l'utilisation des assistants intelligents en quelques minutes.
                    </p>

                    <!-- Vid√©o D√©mo -->

                    <div
                        class="mockup-video-wrapper w-full aspect-video rounded-2xl overflow-hidden shadow-xl group relative">
                        <!-- YouTube iframe -->
                        <iframe id="demoVideo"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 rounded-2xl"
                            src="https://www.youtube.com/embed/DaspflqqOyM?enablejsapi=1&mute=1&controls=0"
                            title="YouTube video player" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            allowfullscreen>
                        </iframe>

                        <!-- Overlay + Play Button -->
                        <div onclick="toggleVideoPlay()"
                            class="absolute inset-0 bg-black/40 group-hover:bg-black/20 transition duration-500 flex items-center justify-center cursor-pointer"
                            id="videoOverlay">
                            <div class="bg-white/20 backdrop-blur-md rounded-full p-6 hover:scale-110 transition flex items-center justify-center"
                                id="playButton">
                                <i class="bi bi-play-fill text-white text-5xl"></i>
                            </div>
                        </div>
                    </div>



                    <!-- CTA Sous la vid√©o -->
                    <div class="mt-8 flex flex-wrap gap-4">
                        <button @click="document.getElementById('modalAuth').classList.remove('hidden')"
                            class="btn-primary px-6 py-3 text-base">
                            Commencer l'Exploration
                        </button>
                        <button class="btn-secondary px-6 py-3 text-base flex items-center gap-2">
                            <i class="bi bi-download"></i> T√©l√©charger le Guide FPN
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section (Ressources Cl√©s) -->
    <section id="features" class="py-24 px-6 lg:px-8 bg-lightSurface/80 backdrop-blur-sm dark:bg-darkCard/50">
        <div class="mx-auto max-w-7xl">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-black mb-4 text-gray-900 dark:text-white">Ressources <span
                        class="gradient-text">Cl√©s</span></h2>
                <p class="text-xl text-gray-700 dark:text-gray-400 max-w-2xl mx-auto">Chaque fonctionnalit√© de la
                    plateforme est con√ßue pour votre r√©ussite acad√©mique.</p>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Utilisez dark:text-gray-300 pour le texte de contenu -->
                <div
                    class="glass-card dynamic-glass rounded-xl p-8 card-glow group cursor-pointer border dark:border-gray-700">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl mb-6 flex items-center justify-center text-white text-3xl shadow-lg">
                        <i class="bi bi-file-earmark-code"></i>
                    </div>
                    <h3
                        class="text-2xl font-bold mb-3 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition">
                        Supports Officiels et Drive</h3>
                    <p class="text-gray-600 dark:text-gray-300 leading-relaxed">Acc√®s direct et s√©curis√© √† tous les
                        documents (PDF, Slides) stock√©s sur Google Drive (Vue "Tous les cours").</p>
                </div>

                <div
                    class="glass-card dynamic-glass rounded-xl p-8 card-glow group cursor-pointer border dark:border-gray-700">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl mb-6 flex items-center justify-center text-white text-3xl shadow-lg">
                        <i class="bi bi-people-fill"></i>
                    </div>
                    <h3
                        class="text-2xl font-bold mb-3 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition">
                        Messagerie & Groupes Projets</h3>
                    <p class="text-gray-600 dark:text-gray-300 leading-relaxed">Chats priv√©s et groupes de travail avec
                        indicateurs de pr√©sence et r√©actions pour une collaboration acad√©mique efficace.</p>
                </div>

                <div
                    class="glass-card dynamic-glass rounded-xl p-8 card-glow group cursor-pointer border dark:border-gray-700">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl mb-6 flex items-center justify-center text-white text-3xl shadow-lg">
                        <i class="bi bi-graph-up"></i>
                    </div>
                    <h3
                        class="text-2xl font-bold mb-3 group-hover:text-green-600 dark:group-hover:text-green-400 transition">
                        Suivi de Progression D√©taill√©</h3>
                    <p class="text-gray-600 dark:text-gray-300 leading-relaxed">Visualisez vos cours termin√©s, en cours,
                        et votre score d'accomplissement gr√¢ce √† des graphiques clairs et motivants.</p>
                </div>

                <div
                    class="glass-card dynamic-glass rounded-xl p-8 card-glow group cursor-pointer border dark:border-gray-700">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl mb-6 flex items-center justify-center text-white text-3xl shadow-lg">
                        <i class="bi bi-book-half"></i>
                    </div>
                    <h3
                        class="text-2xl font-bold mb-3 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition">
                        Biblioth√®que & Ressources Externes</h3>
                    <p class="text-gray-600 dark:text-gray-300 leading-relaxed">Recherchez et pr√©visualisez des livres
                        techniques (OpenLibrary) et du contenu vid√©o √©ducatif pertinent (TMDB/YouTube).</p>
                </div>

                <div
                    class="glass-card dynamic-glass rounded-xl p-8 card-glow group cursor-pointer border dark:border-gray-700">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-xl mb-6 flex items-center justify-center text-white text-3xl shadow-lg">
                        <i class="bi bi-calendar-event"></i>
                    </div>
                    <h3
                        class="text-2xl font-bold mb-3 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition">
                        Calendrier et Rappels</h3>
                    <p class="text-gray-600 dark:text-gray-300 leading-relaxed">G√©rez vos devoirs et examens dans un
                        calendrier unifi√© avec un syst√®me d'alarme pour ne jamais manquer une √©ch√©ance.</p>
                </div>

                <div
                    class="glass-card dynamic-glass rounded-xl p-8 card-glow group cursor-pointer border dark:border-gray-700">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-pink-500 to-rose-500 rounded-xl mb-6 flex items-center justify-center text-white text-3xl shadow-lg">
                        <i class="bi bi-chat-square-dots"></i>
                    </div>
                    <h3
                        class="text-2xl font-bold mb-3 group-hover:text-pink-600 dark:group-hover:text-pink-400 transition">
                        Discussions et Q&A</h3>
                    <p class="text-gray-600 dark:text-gray-300 leading-relaxed">Posez vos questions complexes dans les
                        forums de discussion pour b√©n√©ficier de l'expertise des professeurs et de la communaut√©
                        √©tudiante.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW SECTION: Testimonials -->
    <section id="testimonials" class="py-24 px-6 lg:px-8 bg-gray-100 dark:bg-gray-900 transition-colors duration-500">
        <div class="mx-auto max-w-7xl">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-black mb-4 text-gray-900 dark:text-white">
                    Le succ√®s de nos <span class="gradient-text">√âtudiants</span>
                </h2>
                <p class="text-xl text-gray-700 dark:text-gray-400 max-w-3xl mx-auto">
                    D√©couvrez comment la plateforme FPN a transform√© l'exp√©rience d'apprentissage.
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Testimonial 1 -->
                <div
                    class="dynamic-glass testimonial-card-bg rounded-xl p-8 shadow-2xl h-full border border-blue-200 dark:border-blue-800/50 from-blue-100/30 to-transparent dark:from-blue-900/50 dark:to-transparent">
                    <p class="text-lg italic text-gray-700 dark:text-gray-300 mb-6">
                        "L'√©diteur UML int√©gr√© est une r√©volution. Je peux dessiner mes diagrammes de classe directement
                        √† c√¥t√© de mes notes de cours. Plus besoin de jongler entre 5 applications !"
                    </p>
                    <div class="flex items-center">
                        <img src="https://i.pravatar.cc/50?u=user101" alt="Profile" class="w-12 h-12 rounded-full mr-4">
                        <div>
                            <div class="font-bold text-gray-900 dark:text-white">Fatima Zohra</div>
                            <div class="text-sm text-blue-600 dark:text-blue-400">√âtudiante S5 - Conception Logiciel
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Testimonial 2 -->
                <div
                    class="dynamic-glass testimonial-card-bg rounded-xl p-8 shadow-2xl h-full border border-purple-200 dark:border-purple-800/50 from-purple-100/30 to-transparent dark:from-purple-900/50 dark:to-transparent">
                    <p class="text-lg italic text-gray-700 dark:text-gray-300 mb-6">
                        "Le chat AI est mon meilleur partenaire de r√©vision. Il m'aide √† synth√©tiser des chapitres
                        entiers
                        de complexit√© en quelques secondes. C'est un gain de temps incroyable avant les examens."
                    </p>
                    <div class="flex items-center">
                        <img src="https://i.pravatar.cc/50?u=user102" alt="Profile" class="w-12 h-12 rounded-full mr-4">
                        <div>
                            <div class="font-bold text-gray-900 dark:text-white">Yassine E.</div>
                            <div class="text-sm text-purple-600 dark:text-purple-400">√âtudiant S6 - Intelligence
                                Artificielle</div>
                        </div>
                    </div>
                </div>

                <!-- Testimonial 3 -->
                <div
                    class="dynamic-glass testimonial-card-bg rounded-xl p-8 shadow-2xl h-full border border-green-200 dark:border-green-800/50 from-green-100/30 to-transparent dark:from-green-900/50 dark:to-transparent">
                    <p class="text-lg italic text-gray-700 dark:text-gray-300 mb-6">
                        "J'adore la fonction 'Contenu Contribu√©'. C'est motivant de savoir que mes notes d√©taill√©es
                        aident d'autres √©tudiants. L'entraide est tr√®s forte gr√¢ce √† cette plateforme."
                    </p>
                    <div class="flex items-center">
                        <img src="https://i.pravatar.cc/50?u=user103" alt="Profile" class="w-12 h-12 rounded-full mr-4">
                        <div>
                            <div class="font-bold text-gray-900 dark:text-white">Amina H.</div>
                            <div class="text-sm text-green-600 dark:text-green-400">√âtudiante S4 - Bases de Donn√©es
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tools & AI Section -->
    <section id="tools" class="py-24 px-6 lg:px-8">
        <div class="mx-auto max-w-7xl">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-black mb-4 dark:text-white">Outils <span class="gradient-text">Int√©gr√©s</span>
                </h2>
                <p class="text-xl text-gray-700 dark:text-gray-400 max-w-2xl mx-auto">Des environnements de travail
                    professionnels sans quitter la plateforme.</p>
            </div>

            <div class="grid md:grid-cols-2 gap-12 items-center">
                <!-- AI Assistant -->
                <div
                    class="dynamic-glass rounded-3xl p-8 card-glow h-full flex flex-col justify-between border dark:border-gray-700">
                    <div class="flex items-center gap-4 mb-4">
                        <div
                            class="w-16 h-16 bg-gradient-to-br from-teal-400 to-green-500 rounded-xl flex items-center justify-center text-white text-3xl shadow-lg">
                            <i class="bi bi-robot"></i>
                        </div>
                        <h3 class="text-3xl font-black dark:text-white">Assistant IA FPN</h3>
                    </div>
                    <p class="text-gray-700 dark:text-gray-400 mb-6 leading-relaxed flex-grow">
                        L'outil "Chat with Fpn Ai" utilise des mod√®les avanc√©s pour vous assister dans la compr√©hension
                        et la r√©solution de probl√®mes :
                    </p>
                    <ul class="space-y-3 dark:text-gray-300">
                        <li class="flex items-center gap-2"><i class="bi bi-check-circle-fill text-green-500"></i>
                            Explication de code et d√©bogage.</li>
                        <li class="flex items-center gap-2"><i class="bi bi-check-circle-fill text-green-500"></i>
                            Synth√®se de concepts acad√©miques.</li>
                        <li class="flex items-center gap-2"><i class="bi bi-check-circle-fill text-green-500"></i>
                            G√©n√©ration d'exemples sp√©cifiques.</li>
                    </ul>
                </div>

                <!-- Coding Tools -->
                <div
                    class="dynamic-glass rounded-3xl p-8 card-glow h-full flex flex-col justify-between border dark:border-gray-700">
                    <div class="flex items-center gap-4 mb-4">
                        <div
                            class="w-16 h-16 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-xl flex items-center justify-center text-white text-3xl shadow-lg">
                            <i class="bi bi-code-slash"></i>
                        </div>
                        <h3 class="text-3xl font-black dark:text-white">√âditeurs de Projet</h3>
                    </div>
                    <p class="text-gray-700 dark:text-gray-400 mb-6 leading-relaxed flex-grow">
                        La section "Outils d'application" vous fournit deux environnements de travail critiques :
                    </p>
                    <ul class="space-y-3 dark:text-gray-300">
                        <li class="flex items-start gap-2"><i class="bi bi-code-square text-blue-400 mt-1"></i> **Code
                            Editor Sandbox:** Un environnement de codage web rapide bas√© sur VS Code (Monaco Editor).
                        </li>
                        <li class="flex items-start gap-2"><i class="bi bi-diagram-3-fill text-blue-400 mt-1"></i>
                            **√âditeur UML:** Un outil de conception professionnel pour vos diagrammes (classes,
                            s√©quences) avec options d'exportation.</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- DeepSeek R1 Integration Section -->
    <!-- ========================= -->
    <section id="deepseek-r1"
        class="relative py-24 px-6 lg:px-8 overflow-hidden bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-900 dark:to-blue-900/30">

        <!-- üåå Animated AI Background -->
        <div class="absolute inset-0 overflow-hidden pointer-events-none" aria-hidden="true">
            <div
                class="absolute w-[1000px] h-[1000px] bg-gradient-to-r from-purple-500/30 via-blue-400/20 to-cyan-300/10 blur-[150px] rounded-full animate-aiPulse -top-40 -left-64">
            </div>
            <div
                class="absolute w-[800px] h-[800px] bg-gradient-to-r from-cyan-500/20 via-purple-400/20 to-pink-300/10 blur-[180px] rounded-full animate-aiFloat top-1/3 right-0">
            </div>
            <canvas id="aiParticles" class="absolute inset-0"></canvas>
        </div>

        <div class="relative mx-auto max-w-7xl">
            <!-- === HEADER === -->
            <header class="text-center mb-20">
                <div
                    class="inline-flex items-center gap-3 px-6 py-3 bg-white/80 dark:bg-gray-800/80 rounded-full shadow-lg mb-6 animate-fadeIn backdrop-blur-md">
                    <i class="bi bi-stars text-2xl text-purple-600 dark:text-purple-400"></i>
                    <span class="text-lg font-bold text-gray-800 dark:text-white">Nouveaut√© IA Avanc√©e</span>
                </div>

                <h2 class="text-5xl lg:text-6xl font-black mb-6 text-gray-900 dark:text-white leading-tight">
                    Ma√Ætrisez <span class="gradient-text">DeepSeek R1</span>
                </h2>

                <p class="text-xl text-gray-700 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed">
                    D√©couvrez comment utiliser le mod√®le d'IA le plus performant de notre plateforme gr√¢ce √†
                    <strong>OpenRouter</strong>.
                </p>
            </header>
            <!-- ================= MAIN GRID ================= -->
            <div class="grid lg:grid-cols-2 gap-12 items-start">

                <!-- ================= LEFT CONTENT ================= -->
                <div class="space-y-10">

                    <!-- === Feature Cards === -->
                    <div class="grid gap-6">
                        <!-- Card 1 -->
                        <article
                            class="flex items-start gap-4 p-6 dynamic-glass rounded-2xl border border-blue-200 dark:border-blue-800 hover:scale-[1.02] transition-transform duration-300">
                            <div
                                class="w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center text-white text-xl flex-shrink-0">
                                <i class="bi bi-key"></i>
                            </div>
                            <div>
                                <h4 class="text-xl font-bold mb-2 text-gray-900 dark:text-white">Configuration
                                    OpenRouter</h4>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Obtenez votre cl√© API gratuite sur OpenRouter et configurez-la en quelques clics
                                    dans
                                    votre profil FPN.
                                </p>
                            </div>
                        </article>

                        <!-- Card 2 -->
                        <article
                            class="flex items-start gap-4 p-6 dynamic-glass rounded-2xl border border-purple-200 dark:border-purple-800 hover:scale-[1.02] transition-transform duration-300">
                            <div
                                class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center text-white text-xl flex-shrink-0">
                                <i class="bi bi-robot"></i>
                            </div>
                            <div>
                                <h4 class="text-xl font-bold mb-2 text-gray-900 dark:text-white">DeepSeek R1 Avanc√©</h4>
                                <p class="text-gray-700 dark:text-gray-300">
                                    Acc√©dez au mod√®le de raisonnement 67B le plus performant pour la r√©solution de
                                    probl√®mes
                                    complexes et l'analyse de code.
                                </p>
                            </div>
                        </article>

                        <!-- Card 3 -->
                        <article
                            class="flex items-start gap-4 p-6 dynamic-glass rounded-2xl border border-green-200 dark:border-green-800 hover:scale-[1.02] transition-transform duration-300">
                            <div
                                class="w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center text-white text-xl flex-shrink-0">
                                <i class="bi bi-lightning-charge"></i>
                            </div>
                            <div>
                                <h4 class="text-xl font-bold mb-2 text-gray-900 dark:text-white">Performance Optimis√©e
                                </h4>
                                <p class="text-gray-700 dark:text-gray-300">
                                    B√©n√©ficiez de r√©ponses rapides et pr√©cises pour vos projets acad√©miques et exercices
                                    de
                                    programmation.
                                </p>
                            </div>
                        </article>
                    </div>

                    <!-- === Quick Steps === -->
                    <div class="dynamic-glass rounded-2xl p-6 border dark:border-gray-700">
                        <h4 class="text-2xl font-bold mb-6 text-gray-900 dark:text-white flex items-center gap-3">
                            <i class="bi bi-list-ol text-blue-600 dark:text-blue-400"></i>
                            √âtapes Rapides
                        </h4>
                        <ol class="space-y-4">
                            <li class="flex items-center gap-4">
                                <span
                                    class="w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm">1</span>
                                <p class="text-gray-700 dark:text-gray-300">Cr√©ez un compte sur
                                    <strong>OpenRouter</strong>.
                                </p>
                            </li>
                            <li class="flex items-center gap-4">
                                <span
                                    class="w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm">2</span>
                                <p class="text-gray-700 dark:text-gray-300">G√©n√©rez votre cl√© API gratuite.</p>
                            </li>
                            <li class="flex items-center gap-4">
                                <span
                                    class="w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm">3</span>
                                <p class="text-gray-700 dark:text-gray-300">Ajoutez la cl√© dans vos param√®tres FPN.</p>
                            </li>
                            <li class="flex items-center gap-4">
                                <span
                                    class="w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm">4</span>
                                <p class="text-gray-700 dark:text-gray-300">Activez DeepSeek R1 et commencez !</p>
                            </li>
                        </ol>
                    </div>
                </div>

                <!-- ================= RIGHT CONTENT ================= -->
                <div class="space-y-10">

                    <!-- === AI Chat UI Mockup === -->
                    <div class="dynamic-glass rounded-2xl p-6 border dark:border-gray-700">
                        <h4 class="text-2xl font-bold mb-6 text-gray-900 dark:text-white flex items-center gap-3">
                            <i class="bi bi-robot text-purple-600 dark:text-purple-400"></i>
                            Interface Chat IA - Aper√ßu
                        </h4>

                        <div class="rounded-xl overflow-hidden shadow-2xl border dark:border-gray-600 group">
                            <img src="https://github.com/MEDELBOU3/firbaseTesting/blob/main/images/ai-chat.png?raw=true"
                                alt="Interface Chat IA FPN - DeepSeek R1"
                                class="w-full h-auto object-cover transition-transform duration-500 group-hover:scale-105 cursor-pointer"
                                onclick="openImageModal(this.src)">
                        </div>

                        <div class="mt-6 grid md:grid-cols-3 gap-4">
                            <div
                                class="text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800">
                                <i
                                    class="bi bi-lightning-charge-fill text-blue-600 dark:text-blue-400 text-xl mb-2"></i>
                                <h6 class="font-semibold text-gray-900 dark:text-white">DeepSeek R1 67B</h6>
                                <p class="text-xs text-gray-600 dark:text-gray-400">Mod√®le de raisonnement avanc√©</p>
                            </div>
                            <div
                                class="text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800">
                                <i class="bi bi-code-square text-green-600 dark:text-green-400 text-xl mb-2"></i>
                                <h6 class="font-semibold text-gray-900 dark:text-white">Analyse de Code</h6>
                                <p class="text-xs text-gray-600 dark:text-gray-400">D√©bogage et explications</p>
                            </div>
                            <div
                                class="text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800">
                                <i class="bi bi-chat-dots text-purple-600 dark:text-purple-400 text-xl mb-2"></i>
                                <h6 class="font-semibold text-gray-900 dark:text-white">Interface Intuitive</h6>
                                <p class="text-xs text-gray-600 dark:text-gray-400">Conversation fluide</p>
                            </div>
                        </div>

                        <div class="text-center mt-6">
                            <button
                                class="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 text-base">
                                Essayer l'Interface Chat IA ‚Üí
                            </button>
                        </div>
                    </div>

                    <!-- === YouTube Tutorial === -->
                    <div class="dynamic-glass rounded-2xl p-6 border dark:border-gray-700">
                        <h4 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white flex items-center gap-3">
                            <i class="bi bi-play-circle text-red-600 dark:text-red-400"></i>
                            Tutoriel Vid√©o Complet
                        </h4>
                        <p class="text-gray-700 dark:text-gray-300 mb-6">
                            Regardez notre guide d√©taill√© pour ma√Ætriser l'int√©gration de DeepSeek R1 en moins de 4
                            minutes.
                        </p>

                        <div class="relative w-full aspect-video rounded-xl overflow-hidden shadow-2xl group">
                            <iframe id="deepseekVideo"
                                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                                src="https://www.youtube.com/embed/H8K67-3CIac?enablejsapi=1&mute=1&controls=0"
                                title="Tutoriel DeepSeek R1 - OpenRouter" frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                allowfullscreen></iframe>

                            <div onclick="toggleDeepseekVideo()"
                                class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent group-hover:from-black/40 transition duration-500 flex items-center justify-center cursor-pointer"
                                id="deepseekVideoOverlay">
                                <div
                                    class="bg-white/20 backdrop-blur-md rounded-full p-6 hover:scale-110 transition flex items-center justify-center">
                                    <i class="bi bi-play-fill text-white text-5xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-between items-center mt-4 text-sm text-gray-600 dark:text-gray-400">
                            <span class="flex items-center gap-2"><i class="bi bi-clock"></i>4 minutes</span>
                            <div class="flex gap-2">
                                <button onclick="toggleDeepseekVideo()"
                                    class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition flex items-center gap-2">
                                    <i class="bi bi-play-fill"></i> Lecture
                                </button>
                                <a href="https://youtu.be/H8K67-3CIac" target="_blank"
                                    class="px-4 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-lg font-semibold transition flex items-center gap-2">
                                    <i class="bi bi-box-arrow-up-right"></i> YouTube
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- === Quick Links === -->
                    <div class="grid grid-cols-2 gap-4">
                        <a href="https://openrouter.ai" target="_blank"
                            class="p-4 dynamic-glass rounded-xl border dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-400 transition text-center group">
                            <i class="bi bi-box-arrow-up-right text-blue-600 dark:text-blue-400 text-xl mb-2"></i>
                            <div
                                class="font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400">
                                OpenRouter
                            </div>
                        </a>
                        <a href="https://deepseek.com" target="_blank"
                            class="p-4 dynamic-glass rounded-xl border dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-400 transition text-center group">
                            <i class="bi bi-box-arrow-up-right text-purple-600 dark:text-purple-400 text-xl mb-2"></i>
                            <div
                                class="font-semibold text-gray-900 dark:text-white group-hover:text-purple-600 dark:group-hover:text-purple-400">
                                DeepSeek
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <!-- ================= BENEFITS SECTION ================= -->
            <div class="grid md:grid-cols-3 gap-8 mt-20">
                <div class="text-center p-6 dynamic-glass rounded-2xl border dark:border-gray-700">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center text-white text-2xl mx-auto mb-4">
                        <i class="bi bi-graph-up-arrow"></i>
                    </div>
                    <h4 class="text-xl font-bold mb-3 text-gray-900 dark:text-white">Performance Maximale</h4>
                    <p class="text-gray-700 dark:text-gray-300">
                        DeepSeek R1 excelle en raisonnement complexe et analyse de code avec ses 67 milliards de
                        param√®tres.
                    </p>
                </div>

                <div class="text-center p-6 dynamic-glass rounded-2xl border dark:border-gray-700">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center text-white text-2xl mx-auto mb-4">
                        <i class="bi bi-wallet2"></i>
                    </div>
                    <h4 class="text-xl font-bold mb-3 text-gray-900 dark:text-white">Acc√®s Gratuit</h4>
                    <p class="text-gray-700 dark:text-gray-300">
                        OpenRouter offre des cr√©dits gratuits pour d√©couvrir les mod√®les d'IA les plus avanc√©s.
                    </p>
                </div>

                <div class="text-center p-6 dynamic-glass rounded-2xl border dark:border-gray-700">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center text-white text-2xl mx-auto mb-4">
                        <i class="bi bi-shield-check"></i>
                    </div>
                    <h4 class="text-xl font-bold mb-3 text-gray-900 dark:text-white">Int√©gration S√©curis√©e</h4>
                    <p class="text-gray-700 dark:text-gray-300">
                        Votre cl√© API reste s√©curis√©e et n'est utilis√©e que pour vos sessions de chat personnelles.
                    </p>
                </div>
            </div>

            <!-- ================= FINAL CTA ================= -->
            <div class="text-center mt-20">
                <div class="dynamic-glass rounded-2xl p-10 border dark:border-gray-700 max-w-4xl mx-auto">
                    <h3 class="text-3xl font-black mb-4 text-gray-900 dark:text-white">
                        Pr√™t √† booster votre productivit√© avec l'IA ?
                    </h3>
                    <p class="text-xl text-gray-700 dark:text-gray-300 mb-8">
                        Rejoignez les √©tudiants qui utilisent d√©j√† DeepSeek R1 pour exceller dans leurs projets.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button
                            class="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 text-base">
                            Activer DeepSeek R1 ‚Üí
                        </button>
                        <a href="#tools"
                            class="px-6 py-3 bg-transparent text-gray-900 dark:text-gray-100 rounded-full font-bold border-2 border-gray-300 dark:border-gray-600 hover:border-blue-600 dark:hover:border-blue-400 hover:shadow-lg transition-all duration-300 text-base">
                            Explorer tous les outils IA
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Image Modal -->
    <div id="imageModal" class="fixed inset-0 z-[100] flex items-center justify-center bg-black/80 hidden">
        <div class="relative max-w-4xl max-h-[90vh] p-4">
            <button onclick="closeImageModal()"
                class="absolute -top-12 right-0 text-white hover:text-gray-300 text-2xl z-10 transition-colors duration-300">
                <i class="bi bi-x-lg"></i>
            </button>
            <img id="modalImage" src="" alt="" class="max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl">
        </div>
    </div>

    <script>
        // Image Modal Functions
        function openImageModal(src) {
            document.getElementById('modalImage').src = src;
            document.getElementById('imageModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeImageModal() {
            document.getElementById('imageModal').classList.add('hidden');
            document.body.style.overflow = '';
        }

        // Close modal on background click
        document.getElementById('imageModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeImageModal();
            }
        });

        // DeepSeek Video Player Functionality
        let deepseekPlayer;
        let deepseekPlayerReady = false;

        function onDeepseekPlayerReady(event) {
            deepseekPlayerReady = true;
            setDeepseekPlayIcon();
            showDeepseekOverlay();
            deepseekPlayer.mute();
        }

        function onDeepseekPlayerStateChange(e) {
            const state = e.data;
            if (state === YT.PlayerState.PLAYING) {
                setDeepseekPauseIcon();
                hideDeepseekOverlay();
            } else if (state === YT.PlayerState.PAUSED || state === YT.PlayerState.ENDED || state === YT.PlayerState.UNSTARTED) {
                setDeepseekPlayIcon();
                showDeepseekOverlay();
            }
        }

        function setDeepseekPlayIcon() {
            const playButton = document.getElementById('deepseekPlayButton');
            if (playButton) {
                playButton.innerHTML = '<i class="bi bi-play-fill text-white text-5xl"></i>';
            }
        }

        function setDeepseekPauseIcon() {
            const playButton = document.getElementById('deepseekPlayButton');
            if (playButton) {
                playButton.innerHTML = '<i class="bi bi-pause-fill text-white text-5xl"></i>';
            }
        }

        function hideDeepseekOverlay() {
            const overlay = document.getElementById('deepseekVideoOverlay');
            if (overlay) {
                overlay.classList.add('opacity-0');
                overlay.classList.add('pointer-events-none');
            }
        }

        function showDeepseekOverlay() {
            const overlay = document.getElementById('deepseekVideoOverlay');
            if (overlay) {
                overlay.classList.remove('opacity-0');
                overlay.classList.remove('pointer-events-none');
            }
        }

        function toggleDeepseekVideo() {
            if (!deepseekPlayerReady || !deepseekPlayer) {
                // Fallback: If API hasn't loaded, open YouTube directly
                window.open('https://youtu.be/H8K67-3CIac', '_blank');
                return;
            }

            const state = deepseekPlayer.getPlayerState();
            if (state === YT.PlayerState.PLAYING) {
                deepseekPlayer.pauseVideo();
            } else {
                deepseekPlayer.playVideo();
                deepseekPlayer.unMute();
            }
        }

        // Initialize DeepSeek video player when YouTube API is ready
        if (typeof YT !== 'undefined') {
            deepseekPlayer = new YT.Player('deepseekVideo', {
                events: {
                    'onReady': onDeepseekPlayerReady,
                    'onStateChange': onDeepseekPlayerStateChange
                }
            });
        }
    </script>

    <!-- Community Section -->
    <section id="community" class="py-24 px-6 lg:px-8 bg-lightSurface/80 backdrop-blur-sm dark:bg-darkCard/50">
        <div class="mx-auto max-w-7xl">
            <div class="grid md:grid-cols-2 gap-16 items-center">

                <!-- Left Content -->
                <div class="space-y-6">
                    <span class="text-lg font-bold gradient-text uppercase">Collaborez, Contribuez, R√©ussissez</span>
                    <h3 class="text-4xl font-black text-gray-900 dark:text-white">Une Communaut√© <br>Active et Solidaire
                    </h3>
                    <p class="text-xl text-gray-700 dark:text-gray-400 leading-relaxed">
                        Le c≈ìur de FPN est l'√©change. Aidez vos camarades, posez des questions dans les forums et
                        contribuez √† enrichir la base de connaissances.
                    </p>
                    <ul class="space-y-3">
                        <li class="flex items-start gap-3">
                            <i class="bi bi-check-lg text-2xl text-blue-600 dark:text-blue-400 flex-shrink-0 mt-1"></i>
                            <p class="text-lg dark:text-gray-300">**Contenu Contribu√©:** Partagez vos meilleurs
                                tutoriels ou documents utiles pour obtenir la reconnaissance de la communaut√©.</p>
                        </li>
                        <li class="flex items-start gap-3">
                            <i class="bi bi-check-lg text-2xl text-blue-600 dark:text-blue-400 flex-shrink-0 mt-1"></i>
                            <p class="text-lg dark:text-gray-300">**R√©actions et Popovers:** Interagissez rapidement
                                avec les messages gr√¢ce aux r√©actions et consultez les profils utilisateurs en un clic.
                            </p>
                        </li>
                    </ul>
                    <div class="mt-8">
                        <button @click="document.getElementById('modalAuth').classList.remove('hidden')"
                            class="btn-primary px-6 py-3 text-base">Rejoindre la Communaut√©</button>
                    </div>
                </div>

                <!-- Right Visual: Discussion/Inbox mockup -->
                <div class="relative h-96 hidden md:block">
                    <div
                        class="absolute w-full h-full p-4 dynamic-glass rounded-3xl shadow-xl animate-float dark:bg-gray-800/80">
                        <h4 class="font-bold border-b pb-2 mb-2 dark:border-gray-700 dark:text-white"><i
                                class="bi bi-chat-square-dots me-2"></i>Fil de Discussion</h4>
                        <div class="space-y-3 text-sm">
                            <div
                                class="p-3 bg-blue-50 dark:bg-blue-900/60 rounded-lg border border-blue-200 dark:border-blue-600/50">
                                <div class="font-semibold text-blue-800 dark:text-blue-300">"Erreur de Segmentation en
                                    C++"</div>
                                <div class="text-xs text-gray-600 dark:text-blue-300 mt-1">Par: Marie L. - 5 r√©ponses
                                </div>
                            </div>
                            <div class="p-3 dynamic-glass rounded-lg border dark:border-gray-700">
                                <div class="font-semibold text-gray-900 dark:text-white">Meilleures pratiques pour
                                    MongoDB</div>
                                <div class="text-xs text-gray-600 dark:text-gray-400 mt-1">Par: Dr. Dubois (Admin) - 12
                                    r√©ponses</div>
                            </div>
                        </div>
                    </div>

                    <div class="absolute w-64 p-3 bg-green-500/95 backdrop-blur-md rounded-xl shadow-2xl text-white -bottom-4 right-0 animate-float"
                        style="animation-delay: -2s;">
                        <div class="flex items-center gap-3">
                            <i class="bi bi-check-circle-fill text-2xl"></i>
                            <div>
                                <div class="font-bold">Contenu Contribu√©</div>
                                <p class="text-sm">Votre partage a √©t√© valid√© !</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section id="cta" class="py-24 px-6 lg:px-8">
        <div class="mx-auto max-w-5xl">
            <div
                class="dynamic-glass rounded-3xl p-12 lg:p-16 text-center relative overflow-hidden glow dark:bg-gray-800/80">
                <!-- Decorative elements -->
                <!-- Utilisation de classes de transparence pour le dark mode -->
                <div class="absolute top-0 right-0 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl animate-pulse-slow">
                </div>
                <div class="absolute bottom-0 left-0 w-64 h-64 bg-pink-500/20 rounded-full blur-3xl animate-pulse-slow"
                    style="animation-delay: 2s;">
                </div>

                <div class="relative">
                    <h2 class="text-5xl lg:text-6xl font-black mb-6 text-gray-900 dark:text-white">
                        <span class="gradient-text">D√©marrez</span> Votre Succ√®s
                    </h2>
                    <p class="text-xl text-gray-700 dark:text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed">
                        Utilisez vos identifiants institutionnels pour vous connecter et acc√©der imm√©diatement √† votre
                        Tableau de Bord.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button @click="document.getElementById('modalAuth').classList.remove('hidden')"
                            class="btn-primary text-lg">
                            Se Connecter √† FPN ‚Üí
                        </button>
                        <button @click="alert('Veuillez contacter le service scolarit√©.')"
                            class="btn-secondary text-lg">
                            Probl√®me de Compte
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact"
        class="py-16 px-6 lg:px-8 dynamic-glass border-t border-gray-300 dark:border-gray-700/50 dark:bg-gray-900/90">
        <div class="mx-auto max-w-7xl">
            <div class="grid md:grid-cols-4 gap-12 mb-12">
                <div>
                    <div class="flex items-center gap-3 mb-4">
                        <img src="https://espace-fpn.ump.ma/src/logo.svg" alt="Logo FPN" class="w-11 h-11">
                        <span class="text-xl font-black text-gray-900 dark:text-white">FPN Info & IA</span>
                    </div>
                    <p class="text-gray-600 dark:text-gray-400 text-sm">Portail Officiel de la Division Informatique et
                        Intelligence Artificielle.</p>
                </div>

                <div>
                    <h4 class="font-bold mb-4 text-gray-900 dark:text-white">Ressources</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#features"
                                class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition">Supports
                                de Cours (Drive)</a></li>
                        <li><a href="#tools"
                                class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition">Assistant
                                IA</a></li>
                        <li><a href="#"
                                class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition">Biblioth√®que</a>
                        </li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold mb-4 text-gray-900 dark:text-white">Communaut√©</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#"
                                class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition">Forums
                                (Q&A)</a></li>
                        <li><a href="#"
                                class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition">Messagerie
                                Groupes</a></li>
                        <li><a href="#"
                                class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition">Contenu
                                Contribu√©</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-bold mb-4 text-gray-900 dark:text-white">L√©gal & Aide</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#"
                                class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition">Assistance
                                Technique</a></li>
                        <li><a href="#"
                                class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition">Politique
                                de Confidentialit√©</a></li>
                    </ul>
                </div>
            </div>

            <div class="pt-8 border-t border-gray-300 dark:border-gray-700/50">
                <p class="text-sm text-gray-600 dark:text-gray-400">&copy; 2024 FPN Informatique & AI. Tous droits
                    r√©serv√©s.</p>
            </div>
        </div>
    </footer>


    <!-- AUTH MODAL (Colored Gradient Background) -->
    <div id="modalAuth" class="fixed inset-0 z-50 flex items-center justify-center hidden"
        x-data="{ activeTab: 'signin' }">
        <!-- Gradient Background Overlay -->
        <div
            class="absolute inset-0 bg-gradient-to-br from-blue-600/90 via-purple-600/90 to-pink-600/90 backdrop-blur-sm">
        </div>

        <!-- Modal Content -->
        <div
            class="relative w-full max-w-md p-8 rounded-2xl shadow-3xl bg-white dark:bg-gray-900 border border-white/20 dark:border-gray-700/50 backdrop-blur-md">

            <!-- Close Button -->
            <button onclick="document.getElementById('modalAuth').classList.add('hidden')"
                class="absolute top-4 right-4 w-8 h-8 bg-white/10 dark:bg-gray-800/80 hover:bg-white/20 dark:hover:bg-gray-700/80 rounded-full flex items-center justify-center text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-300 backdrop-blur-sm">
                <i class="bi bi-x-lg text-lg"></i>
            </button>

            <!-- Logout Button (Visible only when logged in) -->
            <template x-if="$store.auth.loggedIn">
                <div class="absolute top-4 left-4">
                    <button @click="$store.auth.logout()"
                        class="text-sm bg-red-500/10 hover:bg-red-500/20 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 px-3 py-1 rounded-full transition-all duration-300 flex items-center gap-1 backdrop-blur-sm">
                        <i class="bi bi-box-arrow-right"></i> D√©connexion
                    </button>
                </div>
            </template>

            <!-- Tabs -->
            <div class="flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1 mb-6" x-show="!$store.auth.loggedIn" x-cloak>
                <button @click="activeTab = 'signin'"
                    :class="{'bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm': activeTab === 'signin', 'text-gray-600 dark:text-gray-400': activeTab !== 'signin'}"
                    class="flex-1 py-3 text-center font-semibold transition-all duration-300 rounded-lg">
                    Se connecter
                </button>
                <button @click="activeTab = 'signup'"
                    :class="{'bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm': activeTab === 'signup', 'text-gray-600 dark:text-gray-400': activeTab !== 'signup'}"
                    class="flex-1 py-3 text-center font-semibold transition-all duration-300 rounded-lg">
                    Cr√©er un compte
                </button>
            </div>

            <!-- Content Area -->
            <div x-show="!$store.auth.loggedIn" x-transition:enter.duration.300 x-cloak>
                <!-- Sign In Tab -->
                <div x-show="activeTab === 'signin'">
                    <h4 class="text-center text-2xl font-bold mb-6 text-gray-900 dark:text-white">Connexion √âtudiant
                    </h4>

                    <!-- Improved Google Sign In Button -->
                    <button id="googleSignIn"
                        class="w-full py-3 mb-4 flex items-center justify-center gap-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 hover:shadow-md transition-all duration-300 text-gray-800 dark:text-white group">
                        <svg class="w-5 h-5" viewBox="0 0 24 24">
                            <path fill="#4285F4"
                                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                            <path fill="#34A853"
                                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                            <path fill="#FBBC05"
                                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
                            <path fill="#EA4335"
                                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
                        </svg>
                        <span class="group-hover:scale-105 transition-transform duration-300">Continuer avec
                            Google</span>
                    </button>

                    <div class="relative mb-4">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300 dark:border-gray-600"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white dark:bg-gray-900 text-gray-500">ou par email
                                institutionnel</span>
                        </div>
                    </div>

                    <form id="signinForm" class="space-y-4">
                        <input id="signinEmail" type="email" placeholder="Email institutionnel" required
                            class="w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-800 dark:text-white transition-all duration-300">
                        <input id="signinPassword" type="password" placeholder="Mot de passe" required
                            class="w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-800 dark:text-white transition-all duration-300">
                        <button type="submit"
                            class="w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 text-lg">
                            Se connecter
                        </button>
                    </form>
                    <p id="authError" class="text-red-500 text-sm mt-4 hidden text-center"></p>
                </div>

                <!-- Sign Up Tab -->
                <div x-show="activeTab === 'signup'">
                    <h4 class="text-center text-2xl font-bold mb-6 text-gray-900 dark:text-white">Cr√©er un nouveau
                        compte</h4>

                    <!-- Improved Google Sign Up Button -->
                    <button id="googleSignup"
                        class="w-full py-3 mb-4 flex items-center justify-center gap-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-xl font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 hover:shadow-md transition-all duration-300 text-gray-800 dark:text-white group">
                        <svg class="w-5 h-5" viewBox="0 0 24 24">
                            <path fill="#4285F4"
                                d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" />
                            <path fill="#34A853"
                                d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" />
                            <path fill="#FBBC05"
                                d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" />
                            <path fill="#EA4335"
                                d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" />
                        </svg>
                        <span class="group-hover:scale-105 transition-transform duration-300">S'inscrire avec
                            Google</span>
                    </button>

                    <div class="relative mb-4">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300 dark:border-gray-600"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white dark:bg-gray-900 text-gray-500">ou par email et mot de
                                passe</span>
                        </div>
                    </div>

                    <form id="signupForm" class="space-y-4">
                        <input id="signupName" type="text" placeholder="Nom Complet" required
                            class="w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-800 dark:text-white transition-all duration-300">
                        <input id="signupEmail" type="email" placeholder="Email institutionnel" required
                            class="w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-800 dark:text-white transition-all duration-300">
                        <input id="signupPassword" type="password" placeholder="Mot de passe (min 6 caract√®res)"
                            required
                            class="w-full p-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-800 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-800 dark:text-white transition-all duration-300">
                        <button type="submit"
                            class="w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 text-lg">
                            Cr√©er mon compte
                        </button>
                    </form>
                    <p id="signupError" class="text-red-500 text-sm mt-4 hidden text-center"></p>
                </div>
            </div>

            <!-- Message when user is already logged in -->
            <div x-show="$store.auth.loggedIn" x-transition:enter.duration.300 class="text-center py-8" x-cloak>
                <div
                    class="w-20 h-20 bg-gradient-to-br from-green-500 to-cyan-500 rounded-full flex items-center justify-center text-white text-4xl mx-auto mb-4 shadow-lg">
                    <i class="bi bi-person-check-fill"></i>
                </div>
                <h4 class="text-2xl font-bold mb-2 text-gray-900 dark:text-white">Vous √™tes d√©j√† connect√©(e),</h4>
                <p class="text-xl gradient-text font-semibold mb-2" x-text="$store.auth.userName"></p>
                <p class="text-gray-600 dark:text-gray-400 mb-6">Acc√©dez directement √† votre espace de travail.</p>
                <button @click="$store.auth.redirectToApp()"
                    class="w-full py-3 bg-gradient-to-r from-green-500 to-cyan-500 hover:from-green-600 hover:to-cyan-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 text-lg">
                    Aller au Tableau de Bord ‚Üí
                </button>
            </div>

        </div>
    </div>


    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // --- Firebase Configuration from your index.html ---
        const firebaseConfig = {
            apiKey: "AIzaSyCEWWnD_36oOe5zUPh7A968hNI8t3LTUJ8",
            authDomain: "fpn-info-et-ia.firebaseapp.com",
            databaseURL: "https://fpn-info-et-ia-default-rtdb.firebaseio.com",
            projectId: "fpn-info-et-ia",
            storageBucket: "fpn-info-et-ia.firebasestorage.app",
            messagingSenderId: "746733727875",
            appId: "1:746733727875:web:25629c417c9202b22cabb6",
            measurementId: "G-XRJ2DZPKT0"
        };

        // Initialize Firebase
        const appInstance = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const googleProvider = new firebase.auth.GoogleAuthProvider();

        // Set persistence to LOCAL
        auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL)
            .then(() => {
                console.log("Persistence set to LOCAL.");
            })
            .catch((error) => {
                console.error("Failed to set persistence:", error);
            });


        // ----------------------------------------------------
        // YOUTUBE DEMO PLAYER FIXES
        // ----------------------------------------------------

        let demoPlayer;
        let demoPlayerReady = false;
        const demoOverlay = document.getElementById('videoOverlay');
        const demoPlayButton = document.getElementById('playButton');
        const demoVideoIframeId = 'demoVideo';

        function setDemoPlayIcon() {
            if (!demoPlayButton) return;
            demoPlayButton.innerHTML = '<i class="bi bi-play-fill text-white text-5xl"></i>';
        }
        function setDemoPauseIcon() {
            if (!demoPlayButton) return;
            demoPlayButton.innerHTML = '<i class="bi bi-pause-fill text-white text-5xl"></i>';
        }
        function hideDemoOverlay() {
            if (!demoOverlay) return;
            demoOverlay.classList.add('opacity-0');
            demoOverlay.classList.add('pointer-events-none');
        }
        function showDemoOverlay() {
            if (!demoOverlay) return;
            demoOverlay.classList.remove('opacity-0');
            demoOverlay.classList.remove('pointer-events-none');
        }

        // Global callback required by YouTube IFrame API
        window.onYouTubeIframeAPIReady = function () {
            console.log("YT IFrame API Ready. Creating player.");
            // Create the player around the existing iframe with id 'demoVideo'
            demoPlayer = new YT.Player(demoVideoIframeId, {
                events: {
                    'onReady': onDemoPlayerReady,
                    'onStateChange': onDemoPlayerStateChange
                }
            });
        };

        function onDemoPlayerReady(event) {
            demoPlayerReady = true;
            setDemoPlayIcon();
            showDemoOverlay();
            demoPlayer.mute();
        }

        function onDemoPlayerStateChange(e) {
            const state = e.data;
            if (state === YT.PlayerState.PLAYING) {
                setDemoPauseIcon();
                hideDemoOverlay();
            } else if (state === YT.PlayerState.PAUSED || state === YT.PlayerState.ENDED || state === YT.PlayerState.UNSTARTED) {
                setDemoPlayIcon();
                showDemoOverlay();
            }
        }

        function toggleVideoPlay() {
            if (!demoPlayerReady || !demoPlayer) {
                console.warn('YouTube demo player not ready yet. Trying fallback.');
                // Fallback: If API hasn't loaded, force reload with autoplay
                const iframe = document.getElementById(demoVideoIframeId);
                if (iframe && !iframe.src.includes('autoplay=1')) {
                    iframe.src = iframe.src.replace('controls=0', 'controls=1').replace('mute=1', 'mute=0') + '&autoplay=1';
                }
                return;
            }

            const state = demoPlayer.getPlayerState();
            if (state === YT.PlayerState.PLAYING) {
                demoPlayer.pauseVideo();
            } else {
                demoPlayer.playVideo();
                demoPlayer.unMute();
            }
        }
        window.toggleVideoPlay = toggleVideoPlay;

        // ----------------------------------------------------
        // THEME FIXES & CORE AUTH LOGIC
        // ----------------------------------------------------

        // Expose theming logic globally and for Alpine usage
        window.saveTheme = function (isDark) {
            localStorage.setItem('fpn_theme_dark', isDark);
        }

        // --- Utility Functions ---
        function showAuthError(message, elementId = 'authError') {
            const errorEl = document.getElementById(elementId);
            if (errorEl) {
                errorEl.textContent = `Erreur: ${message}`;
                errorEl.classList.remove('hidden');
                setTimeout(() => errorEl.classList.add('hidden'), 5000);
            }
        }

        async function initializeUserDocument(user) {
            try {
                await db.collection('users').doc(user.uid).set({
                    name: user.displayName || user.email,
                    email: user.email,
                    photoURL: user.photoURL || null,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                }, { merge: true });
            } catch (error) {
                console.error("Erreur lors de l'initialisation du document utilisateur:", error);
            }
        }

        function handleSuccessfulLogin(user) {

            // 1. Update Alpine Store
            Alpine.store('auth').loggedIn = true;
            Alpine.store('auth').userName = user.displayName || user.email.split('@')[0];

            // 2. Set Redirection Flag (Used by app.html)
            localStorage.setItem('fpn_just_logged_in', 'true');

            // 3. Rediriger imm√©diatement
            window.location.href = 'app.html';
        }

        // --- Core Authentication Check ---
        function initAuthCheck() {
            auth.onAuthStateChanged(user => {
                if (user) {
                    Alpine.store('auth').loggedIn = true;
                    Alpine.store('auth').userName = user.displayName || user.email.split('@')[0];
                    initializeUserDocument(user);
                } else {
                    Alpine.store('auth').loggedIn = false;
                    Alpine.store('auth').userName = 'Utilisateur';
                }
            });
        }

        // --- Alpine App Data ---
        function app() {
            // Initialize Alpine Store (must be done in the app function)
            Alpine.store('auth', {
                loggedIn: false,
                userName: 'Utilisateur',
                // AJOUT: Gestion du th√®me
                darkMode: localStorage.getItem('fpn_theme_dark') === 'true',

                redirectToApp: () => {
                    localStorage.setItem('fpn_just_logged_in', 'true');
                    window.location.href = 'app.html';
                },
                logout: async () => {
                    await auth.signOut();
                    localStorage.removeItem('fpn_just_logged_in');

                    document.getElementById('modalAuth').classList.add('hidden');
                    Alpine.store('auth').loggedIn = false;
                    Alpine.store('auth').userName = 'Utilisateur';

                    alert("Vous √™tes d√©connect√©.");
                },
                // AJOUT: Fonction pour basculer le th√®me
                toggleTheme: function () {
                    this.darkMode = !this.darkMode;
                    localStorage.setItem('fpn_theme_dark', this.darkMode);

                    // Appliquer la classe dark sur le html
                    if (this.darkMode) {
                        document.documentElement.classList.add('dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                    }
                }
            });

            return {
                // Supprimer l'ancienne gestion du th√®me
                initAuthCheck,
                // Vous pouvez garder cette fonction si n√©cessaire ailleurs
                saveTheme: function (isDark) {
                    localStorage.setItem('fpn_theme_dark', isDark);
                    if (isDark) {
                        document.documentElement.classList.add('dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                    }
                }
            }
        }
        // --- Sign In Handlers ---

        document.getElementById('googleSignIn')?.addEventListener('click', async () => {
            try {
                document.getElementById('authError').classList.add('hidden');

                const result = await auth.signInWithPopup(googleProvider);
                await initializeUserDocument(result.user);
                handleSuccessfulLogin(result.user);
            } catch (error) {
                showAuthError(error.message, 'authError');
                console.error("Google Sign-In Error:", error);
            }
        });

        document.getElementById('signinForm')?.addEventListener('submit', async (e) => {
            e.preventDefault();
            document.getElementById('authError').classList.add('hidden');
            const email = document.getElementById('signinEmail').value;
            const password = document.getElementById('signinPassword').value;

            try {
                const result = await auth.signInWithEmailAndPassword(email, password);
                handleSuccessfulLogin(result.user);
            } catch (error) {
                showAuthError("Email ou mot de passe incorrect.", 'authError');
                console.error("Email/Password Sign-In Error:", error);
            }
        });

        // --- Sign Up Handlers ---

        document.getElementById('googleSignup')?.addEventListener('click', async () => {
            try {
                document.getElementById('signupError').classList.add('hidden');
                const result = await auth.signInWithPopup(googleProvider);

                if (!result.user.displayName) {
                    await result.user.updateProfile({
                        displayName: result.user.email.split('@')[0]
                    });
                }
                await initializeUserDocument(result.user);
                handleSuccessfulLogin(result.user);
            } catch (error) {
                showAuthError(error.message, 'signupError');
                console.error("Google Sign-Up Error:", error);
            }
        });

        document.getElementById('signupForm')?.addEventListener('submit', async (e) => {
            e.preventDefault();
            document.getElementById('signupError').classList.add('hidden');
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;

            try {
                const result = await auth.createUserWithEmailAndPassword(email, password);
                await result.user.updateProfile({ displayName: name });
                await initializeUserDocument(result.user);
                handleSuccessfulLogin(result.user);
            } catch (error) {
                let errorMessage = error.message;
                if (error.code === 'auth/weak-password') {
                    errorMessage = "Le mot de passe doit contenir au moins 6 caract√®res.";
                } else if (error.code === 'auth/email-already-in-use') {
                    errorMessage = "Cet email est d√©j√† utilis√©. Veuillez vous connecter.";
                } else if (error.code === 'auth/invalid-email') {
                    errorMessage = "Format d'email invalide.";
                }
                showAuthError(errorMessage, 'signupError');
                console.error("Email/Password Sign-Up Error:", error);
            }
        });

        // --- Theme Initialization ---
        function initializeTheme() {
            const isDark = localStorage.getItem('fpn_theme_dark') === 'true';

            // Appliquer le th√®me au chargement
            if (isDark) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }

            // Synchroniser avec Alpine store si disponible
            if (Alpine.store('auth')) {
                Alpine.store('auth').darkMode = isDark;
            }
        }

        // Appeler cette fonction au chargement
        document.addEventListener('DOMContentLoaded', function () {
            initializeTheme();
        });
    </script>
</body>

</html>
